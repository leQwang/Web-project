<!-- RMIT University Vietnam
Course: COSC2430 Web Programming
Semester: 2023A
Assessment: Assignment 2
Author/ID: 
Celina Vangstrup s3993395
Doan Tran Thien Phuc s3926377
Le Duy Quang s3912105
Gustav Joachim Elbroend s3995055
Damien Vincent Voelker s3995378
Acknowledgement: RMIT Lecture Slide-->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="../css/registration.css">
    <link rel="stylesheet" type="text/css" href="../css/form.css">
    <link rel="stylesheet" type="text/css" href="../css/style.css">


    <title>Shipper Registration</title>
</head>

<body>
    <main>
        <h1>Shipper Registration </h1>
        <div class="card">
            <form class="registration" action="/registerShipper" method="post" id="registerShipper-form">
                <fieldset>
                    <div class="input-section">
                        <div class="info-box">
                            <label for="username">&#8505;&#65039; Username
                                <span class="tooltip">Must consist of only letters (lower and upper case) and digits.
                                    Length from 8 to 15 characters</span>
                            </label>
                        </div>
                        <input type="text" id="username" name="username" required pattern="^[A-Za-z0-9]{8,15}$">
                    </div>
                    <div class="input-section">
                        <div class="info-box">
                            <label for="password">&#8505;&#65039; Password
                                <span class="tooltip">Password must have at least one upper case letter, at least one
                                    lower case letter, at least one digit, at least one special letter in the set
                                    !@#$%^&*, NO other kind of characters. Length from 8 to 20 characters.</span>
                            </label>
                        </div>
                        <input type="password" id="password" name="password" required minlength="8" maxlength="20">
                    </div>
                    <div class="input-section">
                        <div class="info-box">
                            <label for="profile-picture">&#8505;&#65039; Profile Picture
                                <span class="tooltip">Upload profile picture</span>
                            </label>
                        </div>
                        <input type="file" id="profile-pic-upload" onchange="getImage()">
                        <input type="text" id="profile-picture" name="profile-picture" style="display:none">
                    </div>
                    <div class="input-section">
                        <div class="info-box">
                            <label for="distribution-hub">&#8505;&#65039; Select distribution hub
                                <span class="tooltip">Pick your distribution hub</span>
                            </label>
                        </div>
                        <select id="distribution-hub" name="distribution-hub" required>
                            <option value="" disabled selected>Select a hub</option>
                            <% for (let i=0; i< hubs.length; i++) { %>
                                <option value="<%= hubs[i].name%>"><%= hubs[i].name %>, <%= hubs[i].address %></option>
                            <% } %>
                        </select>
                    </div>
                    <div class="input-section">
                        <button type="submit" value="Register" id="registerShipper-btn">Submit</button>
                    </div>
                    <div id="error-message"><%= error %></div>
                </fieldset>
            </form>
        </div>
    </main>
    <script src="../js/valShipperReqForm.js"></script>
    <script>
        function getImage() {
        var fr = new FileReader();
        var img = document.querySelector("#profile-pic-upload").files;
        fr.readAsDataURL(img[0]);
        fr.onloadend = function () {
            document.querySelector("#profile-picture").value = fr.result;
            console.log(document.querySelector("#profile-picture").value);
        }
    }
    </script>
</body>

</html>